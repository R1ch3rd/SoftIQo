<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Insert Record</title>
    <script>
      async function fetchRecord(event) {
        event.preventDefault(); // Prevent the default form submission

        const form = event.target;
        const formData = new FormData(form);

        const response = await fetch(form.action, {
          method: form.method,
          body: formData,
        });

        const result = await response.json();

        // Display the JSON response on the page
        const resultContainer = document.getElementById("get-record-result");
        resultContainer.textContent = JSON.stringify(result, null, 2); // Format the JSON
      }

      async function fetchAnalysis() {
        const response = await fetch("http://127.0.0.1:8000/analysis");
        const html = await response.text();

        // Display the analysis HTML content in a specific div
        const analysisContainer = document.getElementById("analysis-container");
        analysisContainer.innerHTML = html;
      }
    </script>
  </head>
  <body>
    <h1>Insert Record into Amazon Sale Report</h1>
    <form action="http://127.0.0.1:8000/insert_record" method="post">
      <label for="index">Index:</label>
      <input type="number" id="index" name="index" required /><br /><br />

      <label for="order_id">Order ID:</label>
      <input type="text" id="order_id" name="order_id" required /><br /><br />

      <label for="date">Date:</label>
      <input type="date" id="date" name="date" required /><br /><br />

      <label for="status">Status:</label>
      <input type="text" id="status" name="status" required /><br /><br />

      <label for="fulfilment">Fulfilment:</label>
      <input
        type="text"
        id="fulfilment"
        name="fulfilment"
        required
      /><br /><br />

      <label for="sales_channel">Sales Channel:</label>
      <input
        type="text"
        id="sales_channel"
        name="sales_channel"
        required
      /><br /><br />

      <label for="ship_service_level">Ship Service Level:</label>
      <input
        type="text"
        id="ship_service_level"
        name="ship_service_level"
        required
      /><br /><br />

      <label for="style">Style:</label>
      <input type="text" id="style" name="style" required /><br /><br />

      <label for="sku">SKU:</label>
      <input type="text" id="sku" name="sku" required /><br /><br />

      <label for="category">Category:</label>
      <input type="text" id="category" name="category" required /><br /><br />

      <label for="currency">Currency:</label>
      <input type="text" id="currency" name="currency" required /><br /><br />

      <label for="amount">Amount:</label>
      <input
        type="number"
        step="0.01"
        id="amount"
        name="amount"
        required
      /><br /><br />

      <label for="ship_city">Ship City:</label>
      <input type="text" id="ship_city" name="ship_city" required /><br /><br />

      <label for="ship_state">Ship State:</label>
      <input
        type="text"
        id="ship_state"
        name="ship_state"
        required
      /><br /><br />

      <label for="ship_postal_code">Ship Postal Code:</label>
      <input
        type="number"
        id="ship_postal_code"
        name="ship_postal_code"
        required
      /><br /><br />

      <label for="ship_country">Ship Country:</label>
      <input
        type="text"
        id="ship_country"
        name="ship_country"
        required
      /><br /><br />

      <label for="promotion_ids">Promotion IDs:</label>
      <input type="text" id="promotion_ids" name="promotion_ids" /><br /><br />

      <label for="b2b">B2B:</label>
      <input type="checkbox" id="b2b" name="b2b" /><br /><br />

      <label for="fulfilled_by">Fulfilled By:</label>
      <input
        type="text"
        id="fulfilled_by"
        name="fulfilled_by"
        required
      /><br /><br />

      <label for="unnamed">Unnamed:</label>
      <input type="checkbox" id="unnamed" name="unnamed" /><br /><br />

      <button type="submit">Submit</button>
    </form>
    <h2>Delete Record</h2>
    <form action="http://127.0.0.1:8000/delete_record" method="post">
      <label for="order_id">Order ID:</label>
      <input type="text" id="order_id" name="order_id" required /><br />

      <label for="sku">SKU:</label>
      <input type="text" id="sku" name="sku" required /><br />

      <button type="submit">Delete Record</button>
    </form>
    <h2>Get Record</h2>
    <form
      action="http://127.0.0.1:8000/get_record"
      method="post"
      onsubmit="fetchRecord(event)"
    >
      <label for="order_id">Order ID:</label>
      <input type="text" id="order_id" name="order_id" required /><br />

      <label for="sku">SKU:</label>
      <input type="text" id="sku" name="sku" required /><br />

      <button type="submit">Get Record</button>
    </form>

    <h3>Record Details:</h3>
    <pre
      id="get-record-result"
      style="
        background: #f4f4f4;
        padding: 10px;
        border: 1px solid #ddd;
        max-height: 300px;
        overflow: auto;
      "
    ></pre>
    <!-- <h2>Analysis Results</h2>
    <button onclick="fetchAnalysis()">Get Analysis</button>

    <div id="analysis-container" style="margin-top: 20px"></div> -->
  </body>
</html>
